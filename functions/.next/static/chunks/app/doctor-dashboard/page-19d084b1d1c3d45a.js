(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[956],{1363:function(e,t,s){Promise.resolve().then(s.bind(s,831))},831:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return i}});var a=s(7437),n=s(2265),l=s(7293),r=s(5978);function i(){var e,t,s,i;let[d,o]=(0,n.useState)({name:"",age:"",gender:"",problem:"",totalSessions:"",totalFee:"",payments:[]}),[c,x]=(0,n.useState)([]),[m,p]=(0,n.useState)(null),[h,u]=(0,n.useState)(""),[g,b]=(0,n.useState)(""),[j,y]=(0,n.useState)(null);(0,n.useEffect)(()=>{v()},[]);let v=async()=>{x((await (0,r.PL)((0,r.hJ)(l.db,"patients"))).docs.map(e=>({id:e.id,...e.data()})))},f=e=>{let{name:t,value:s}=e.target;o(e=>({...e,[t]:s}))},N=async()=>{m?await (0,r.r7)((0,r.JU)(l.db,"patients",m),d):await (0,r.ET)((0,r.hJ)(l.db,"patients"),d),v(),w()},w=()=>{o({name:"",age:"",gender:"",problem:"",totalSessions:"",totalFee:"",payments:[]}),p(null),b("")},_=async e=>{let t=await (0,r.QT)((0,r.JU)(l.db,"patients",e));t.exists()&&(o(t.data()),p(e))},C=async()=>{m&&(await (0,r.oe)((0,r.JU)(l.db,"patients",m)),v(),w())},P=async()=>{if(!m||!g)return;let e={amount:Number(g),timestamp:new Date().toLocaleString()},t=[...d.payments||[],e],s={...d,payments:t};await (0,r.r7)((0,r.JU)(l.db,"patients",m),s),o(s),b("")},S=e=>{y(e)},k=c.filter(e=>{var t;return null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(h.toLowerCase())}),F=(null===(e=d.payments)||void 0===e?void 0:e.reduce((e,t)=>e+t.amount,0))||0,A=Number(d.totalFee||0);return(0,a.jsxs)("div",{className:"flex h-screen font-inter bg-gradient-to-br from-blue-50 via-white to-green-50",children:[(0,a.jsxs)("aside",{className:"w-1/4 bg-white border-r border-gray-200 px-6 py-8 shadow-lg",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Patients"}),(0,a.jsx)("input",{type:"text",placeholder:"Search patients",value:h,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 mb-4"}),(0,a.jsx)("ul",{className:"space-y-2 overflow-y-auto max-h-[70vh] pr-1",children:k.map(e=>(0,a.jsxs)("li",{className:"p-3 rounded-lg border flex justify-between items-center transition ".concat(m===e.id?"bg-blue-100 border-blue-400 font-medium":"hover:bg-gray-100"),children:[(0,a.jsx)("span",{onClick:()=>_(e.id),className:"cursor-pointer flex-1",children:e.name}),(0,a.jsx)("button",{onClick:()=>S(e),className:"text-sm text-blue-600 underline ml-4 hover:text-blue-800",children:"Generate PDF"})]},e.id))})]}),(0,a.jsxs)("main",{className:"flex-1 px-10 py-8 overflow-y-auto",children:[(0,a.jsx)("h2",{className:"text-3xl font-semibold text-gray-800 mb-8",children:m?"Edit Patient":"Add New Patient"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-5 mb-8",children:[(0,a.jsx)("input",{name:"name",placeholder:"Full Name",value:d.name,onChange:f,className:"p-3 border rounded-lg shadow-sm"}),(0,a.jsx)("input",{name:"age",placeholder:"Age",value:d.age,onChange:f,className:"p-3 border rounded-lg shadow-sm"}),(0,a.jsxs)("select",{name:"gender",value:d.gender,onChange:f,className:"p-3 border rounded-lg shadow-sm",children:[(0,a.jsx)("option",{children:"Male"}),(0,a.jsx)("option",{children:"Female"}),(0,a.jsx)("option",{children:"Other"})]}),(0,a.jsx)("input",{name:"problem",placeholder:"Health Problem",value:d.problem,onChange:f,className:"p-3 border rounded-lg shadow-sm"}),(0,a.jsx)("input",{name:"totalSessions",placeholder:"Total Sessions",value:d.totalSessions,onChange:f,className:"p-3 border rounded-lg shadow-sm"}),(0,a.jsx)("input",{name:"totalFee",placeholder:"Total Fee (₹)",value:d.totalFee,onChange:f,className:"p-3 border rounded-lg shadow-sm"})]}),(0,a.jsxs)("div",{className:"mb-8 flex gap-4",children:[(0,a.jsx)("button",{onClick:N,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:m?"Update":"Add Patient"}),m&&(0,a.jsx)("button",{onClick:C,className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:"Delete"})]}),m&&(0,a.jsxs)("section",{className:"bg-white/70 backdrop-blur-md border border-gray-200 p-6 rounded-xl shadow-md",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Payment Details"}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-6 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"Total Fee"}),(0,a.jsxs)("p",{className:"text-lg font-semibold text-gray-700",children:["₹",A]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"Paid"}),(0,a.jsxs)("p",{className:"text-lg font-semibold text-green-600",children:["₹",F]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"Remaining"}),(0,a.jsxs)("p",{className:"text-lg font-semibold text-red-500",children:["₹",A-F]})]})]}),(0,a.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,a.jsx)("input",{type:"number",placeholder:"Enter payment",value:g,onChange:e=>b(e.target.value),className:"p-3 border rounded-lg w-1/2"}),(0,a.jsx)("button",{onClick:P,className:"px-5 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition",children:"Add Payment"})]}),(0,a.jsx)("h4",{className:"text-md font-medium mb-2 text-gray-800",children:"Payment History"}),(0,a.jsx)("ul",{className:"space-y-2 text-sm text-gray-700 max-h-[200px] overflow-y-auto pr-2",children:null===(t=d.payments)||void 0===t?void 0:t.map((e,t)=>(0,a.jsxs)("li",{className:"flex justify-between border-b py-2",children:[(0,a.jsxs)("span",{children:["₹",e.amount]}),(0,a.jsx)("span",{className:"text-gray-500",children:e.timestamp})]},t))})]})]}),j&&(0,a.jsx)("div",{className:"fixed inset-0 bg-white z-50 overflow-auto print:overflow-visible print:p-0",children:(0,a.jsxs)("div",{className:"relative w-[794px] min-h-[1123px] mx-auto bg-white px-[40px] py-[40px] text-sm leading-tight shadow-none print:shadow-none print:w-[794px] print:min-h-[1123px] print:px-[40px] print:py-[40px] flex flex-col justify-between print:h-auto",children:[(0,a.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-[60px] text-gray-300 font-bold opacity-10 rotate-12 pointer-events-none select-none z-0",children:"Doctor Active Plus"}),(0,a.jsxs)("div",{className:"relative z-10 flex flex-col gap-6 flex-grow",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 pb-3 border-b border-gray-300",children:[(0,a.jsx)("img",{src:"functions\nextApp\public\dap-icon.jpeg",alt:"Clinic Logo",className:"w-16 h-16 object-contain"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Doctor Active Plus"}),(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:"Advance Spine | Joint & Laser Center"}),(0,a.jsx)("p",{className:"text-gray-500 text-xs",children:"Above Bommanahalli Milk Producers' Cooperative Society"}),(0,a.jsx)("p",{className:"text-gray-500 text-xs",children:"Bommanahalli Main Road, Bommanahalli,"}),(0,a.jsx)("p",{className:"text-gray-500 text-xs",children:" Bengaluru – 560049, Karnataka"}),(0,a.jsx)("p",{className:"text-gray-500 text-xs",children:"Email: drmovementrx@gmail.com | +91-9262727272"})]})]}),(0,a.jsx)("div",{className:"flex justify-between items-center text-xs text-gray-600",children:(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Date:"})," ",new Date().toLocaleDateString()]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Patient Information"}),(0,a.jsxs)("div",{className:"text-sm space-y-1",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Name:"})," ",j.name]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Age:"})," ",j.age]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Gender:"})," ",j.gender]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Health Concern:"})," ",j.problem]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Planned Sessions:"})," ",j.totalSessions]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-700 mb-2 text-left",children:"Payment Summary"}),(0,a.jsx)("ul",{className:"text-xs space-y-1 text-left",children:null===(s=j.payments)||void 0===s?void 0:s.map((e,t)=>(0,a.jsxs)("li",{className:"flex justify-between border-b border-dashed border-gray-200 pb-1",children:[(0,a.jsxs)("span",{children:["₹",e.amount]}),(0,a.jsx)("span",{className:"text-gray-500",children:e.timestamp})]},t))}),(0,a.jsx)("hr",{className:"my-2 border-gray-300"}),(0,a.jsxs)("p",{className:"text-left font-medium text-sm text-gray-800",children:["Total Paid: ₹",null===(i=j.payments)||void 0===i?void 0:i.reduce((e,t)=>e+t.amount,0)]})]}),(0,a.jsxs)("div",{className:"text-left mt-4",children:[(0,a.jsx)("p",{className:"mb-1 text-sm",children:"________________________"}),(0,a.jsx)("p",{className:"text-xs text-gray-700",children:"Dr. Anil Kumar"}),(0,a.jsx)("p",{className:"text-[10px] text-gray-500",children:"Senior Physiotherapist"})]}),(0,a.jsxs)("div",{className:"text-center text-[10px] text-gray-500 leading-tight mt-4",children:["Note: All services are provided under the supervision of qualified medical professionals. Results may vary from person to person. ",(0,a.jsx)("br",{}),"We will do the best. Package treatment must be completed in given time period. ",(0,a.jsx)("br",{}),"(Package treatment fee will not be refunded under any circumstances.)"]})]}),(0,a.jsxs)("div",{className:"mt-8 flex justify-center gap-4 print:hidden",children:[(0,a.jsx)("button",{onClick:()=>window.print(),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"Print / Save as PDF"}),(0,a.jsx)("button",{onClick:()=>y(null),className:"text-red-600 hover:underline text-sm",children:"Cancel"})]})]})})]})}},7293:function(e,t,s){"use strict";s.d(t,{db:function(){return r}});var a=s(738),n=s(5978);let l=(0,a.ZF)({apiKey:"AIzaSyC8ZAOOFSdZ8RkdGKh7IskFnh1LCDsrQgo",authDomain:"doctor-active-plus-review.firebaseapp.com",projectId:"doctor-active-plus-review",storageBucket:"doctor-active-plus-review.firebasestorage.app",messagingSenderId:"958341366869",appId:"1:958341366869:web:de54c832b1889454df80dc"}),r=(0,n.ad)(l)}},function(e){e.O(0,[609,448,971,117,744],function(){return e(e.s=1363)}),_N_E=e.O()}]);